SET ANSI_NULLS ON;

SET QUOTED_IDENTIFIER ON;

SET ANSI_PADDING ON;

CREATE TABLE "BANK"."BRANCH" (
	"BRANCH_ID" VARCHAR(20) NOT NULL,
	"LOCATION" VARCHAR(70),
	"BRANCH_DETAIL" VARCHAR(30),
	"BRANCH_NAME" VARCHAR(80),
	CONSTRAINT "BRANCH_UC1" PRIMARY KEY ("BRANCH_ID")

);

CREATE TABLE "BANK"."TRANSACTION_TYPE" (
	"TRANSACTION_CODE" VARCHAR(6) NOT NULL,
	"TRANSACTION_DESCRIPTION" VARCHAR(60),
	CONSTRAINT "TRANSACTION_TYPE_UC1" PRIMARY KEY ("TRANSACTION_CODE")

);

CREATE TABLE "BANK"."TRANSACTION" (
	"TRANSACTION_ID" VARCHAR(14) NOT NULL,
	"ACCOUNT_NUMBER" VARCHAR(13) NOT NULL,
	"TRANSACTION_CODE" VARCHAR(6) NOT NULL,
	"TRANSACTION_DATE" DATE,
	"TRANSACTION_AMOUNT" NUMERIC(8 , 2),
	CONSTRAINT "TRANSACTION_UC1" PRIMARY KEY ("TRANSACTION_ID")

);

CREATE TABLE "BANK"."CUSTOMER" (
	"CUSTOMER_ID" VARCHAR(13) NOT NULL,
	"FULL_NAME" VARCHAR(50),
	"ADDRESS" VARCHAR(60),
	"PHONE_NUMBER" VARCHAR(25),
	"EMAIL" VARCHAR(40),
	"DATE_BECAME_MEMBER" DATE,
	"BRANCH_ID" VARCHAR(20) NOT NULL,
	"SSN" VARCHAR(11),
	CONSTRAINT "CUSTOMER_UC1" PRIMARY KEY ("CUSTOMER_ID")

);

CREATE TABLE "BANK"."ACCOUNT" (
	"ACCOUNT_NUMBER" VARCHAR(13) NOT NULL,
	"ACCOUNT_CODE" VARCHAR(12),
	"CODE_DESCRIPTION" VARCHAR(90),
	"ACCOUNT_TYPE" VARCHAR(45),
	"CUSTOMER_ID" VARCHAR(13) NOT NULL,
	"CURRENT_BALANCE" NUMERIC(8 , 2),
	CONSTRAINT "ACCOUNT_UC1" PRIMARY KEY ("ACCOUNT_NUMBER")

);

CREATE UNIQUE INDEX "TRANSACTION_TYPE_IX1" ON "BANK"."TRANSACTION_TYPE" ("TRANSACTION_CODE" ASC)
WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = OFF, ALLOW_PAGE_LOCKS = OFF);

CREATE UNIQUE INDEX "ACCOUNT_IX1" ON "BANK"."ACCOUNT" ("ACCOUNT_NUMBER" ASC)
WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = OFF, ALLOW_PAGE_LOCKS = OFF);

CREATE UNIQUE INDEX "BRANCH_IX1" ON "BANK"."BRANCH" ("BRANCH_ID" ASC)
WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = OFF, ALLOW_PAGE_LOCKS = OFF);

CREATE UNIQUE INDEX "CUSTOMER_IX1" ON "BANK"."CUSTOMER" ("CUSTOMER_ID" ASC)
WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = OFF, ALLOW_PAGE_LOCKS = OFF);

CREATE UNIQUE INDEX "TRANSACTION_IX1" ON "BANK"."TRANSACTION" ("TRANSACTION_ID" ASC)
WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = OFF, ALLOW_PAGE_LOCKS = OFF);

ALTER TABLE "BANK"."CUSTOMER" ADD CONSTRAINT "CUSTOMER_FK1" FOREIGN KEY ("BRANCH_ID")
	REFERENCES "BANK"."BRANCH" ("BRANCH_ID");

ALTER TABLE "BANK"."ACCOUNT" ADD CONSTRAINT "ACCOUNT_FK1" FOREIGN KEY ("CUSTOMER_ID")
	REFERENCES "BANK"."CUSTOMER" ("CUSTOMER_ID");

ALTER TABLE "BANK"."TRANSACTION" ADD CONSTRAINT "TRANSACTION_FK1" FOREIGN KEY ("ACCOUNT_NUMBER")
	REFERENCES "BANK"."ACCOUNT" ("ACCOUNT_NUMBER");

ALTER TABLE "BANK"."TRANSACTION" ADD CONSTRAINT "TRANSACTION_FK2" FOREIGN KEY ("TRANSACTION_CODE")
	REFERENCES "BANK"."TRANSACTION_TYPE" ("TRANSACTION_CODE");

SET ANSI_PADDING OFF;

